2025-12-10 00:32:11 [ERROR]: Failed to start server: SocketService.init is not a function {"stack":"TypeError: SocketService.init is not a function\n    at initSocket (file:///C:/Users/cyhin/YiBu/server/src/socket/index.js:28:17)\n    at startServer (file:///C:/Users/cyhin/YiBu/server/src/server.js:17:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}
2025-12-10 01:43:04 [ERROR]: POST /api/auth/logout 401 - 4ms 
2025-12-10 01:43:05 [ERROR]: POST /api/auth/refresh 401 - 1ms 
2025-12-10 02:05:53 [ERROR]: Server Error Expected "payload" to be a plain object. {"module":"system","stack":"Error: Expected \"payload\" to be a plain object.\n    at validate (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\jsonwebtoken\\sign.js:44:11)\n    at validatePayload (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\jsonwebtoken\\sign.js:66:10)\n    at module.exports [as sign] (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\jsonwebtoken\\sign.js:144:7)\n    at generateAccessToken (file:///C:/Users/cyhin/YiBu/server/src/helpers/GenerateTokens.js:5:14)\n    at AuthService.register (file:///C:/Users/cyhin/YiBu/server/src/services/Auth.Service.js:55:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async file:///C:/Users/cyhin/YiBu/server/src/controllers/auth.controller.js:27:35","path":"/api/auth/register","method":"POST","statusCode":500}
2025-12-10 02:05:53 [ERROR]: POST /api/auth/register 500 - 800ms 
2025-12-10 02:06:50 [ERROR]: Server Error Email đã được sử dụng {"module":"system","stack":"Error: Email đã được sử dụng\n    at AuthService.register (file:///C:/Users/cyhin/YiBu/server/src/services/Auth.Service.js:39:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async file:///C:/Users/cyhin/YiBu/server/src/controllers/auth.controller.js:27:35","path":"/api/auth/register","method":"POST","statusCode":500}
2025-12-10 02:06:50 [ERROR]: POST /api/auth/register 500 - 48ms 
2025-12-10 02:07:05 [ERROR]: Server Error Username đã được sử dụng {"module":"system","stack":"Error: Username đã được sử dụng\n    at AuthService.register (file:///C:/Users/cyhin/YiBu/server/src/services/Auth.Service.js:41:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async file:///C:/Users/cyhin/YiBu/server/src/controllers/auth.controller.js:27:35","path":"/api/auth/register","method":"POST","statusCode":500}
2025-12-10 02:07:05 [ERROR]: POST /api/auth/register 500 - 35ms 
2025-12-10 02:08:41 [ERROR]: Server Error RefreshToken validation failed: family: Path `family` is required. {"module":"system","stack":"ValidationError: RefreshToken validation failed: family: Path `family` is required.\n    at Document.invalidate (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:84:11)","path":"/api/auth/login","method":"POST","statusCode":500}
2025-12-10 02:08:41 [ERROR]: POST /api/auth/login 500 - 239ms 
2025-12-10 02:41:35 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 3ms 
2025-12-10 02:41:35 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 1ms 
2025-12-10 02:41:54 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 1ms 
2025-12-10 02:41:54 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 1ms 
2025-12-10 02:42:48 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 4ms 
2025-12-10 02:42:48 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 0ms 
2025-12-10 02:43:10 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 3ms 
2025-12-10 02:43:10 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 0ms 
2025-12-10 02:43:30 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 3ms 
2025-12-10 02:43:30 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 404 - 1ms 
2025-12-10 03:25:56 [ERROR]: JWT Verify Error: 
2025-12-10 03:25:56 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 2ms 
2025-12-10 03:25:56 [ERROR]: JWT Verify Error: 
2025-12-10 03:25:56 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 1ms 
2025-12-10 03:28:26 [ERROR]: JWT Verify Error: 
2025-12-10 03:28:26 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 2ms 
2025-12-10 03:28:26 [ERROR]: JWT Verify Error: 
2025-12-10 03:28:26 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 1ms 
2025-12-10 03:29:01 [ERROR]: JWT Verify Error: 
2025-12-10 03:29:01 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 1ms 
2025-12-10 03:29:01 [ERROR]: JWT Verify Error: 
2025-12-10 03:29:01 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 2ms 
2025-12-10 03:39:45 [ERROR]: Server Error Plan executor error during findAndModify :: caused by :: Cannot create field 'count' in element {loginAttempts: 0} {"module":"system","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: Cannot create field 'count' in element {loginAttempts: 0}\n    at Connection.sendCommand (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async Connection.command (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:327:26)\n    at async Server.command (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:168:29)\n    at async FindOneAndUpdateOperation.executeCommand (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async FindOneAndUpdateOperation.execute (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\operations\\find_and_modify.js:85:24)\n    at async tryOperation (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.findOneAndUpdate (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongodb\\lib\\collection.js:500:16)\n    at async model.Query._findOneAndUpdate (C:\\Users\\cyhin\\YiBu\\server\\node_modules\\mongoose\\lib\\query.js:3477:13)","path":"/api/auth/login","method":"POST","statusCode":500}
2025-12-10 03:39:45 [ERROR]: POST /api/auth/login 500 - 124ms 
2025-12-10 12:50:26 [ERROR]: JWT Verify Error: 
2025-12-10 12:50:26 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 9ms 
2025-12-10 12:50:26 [ERROR]: JWT Verify Error: 
2025-12-10 12:50:26 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 2ms 
2025-12-10 12:51:09 [ERROR]: JWT Verify Error: 
2025-12-10 12:51:09 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 2ms 
2025-12-10 12:51:09 [ERROR]: JWT Verify Error: 
2025-12-10 12:51:09 [ERROR]: GET /api/user/profile/69387364290b282afbfb48ad 403 - 1ms 
